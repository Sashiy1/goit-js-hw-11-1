{"version":3,"file":"commonHelpers.js","sources":["../src/js/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний в документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction fetchPictures(searchingItem) {\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${searchingItem}&orientation=${ORIENTATION}&image_type=${IMAGE_TYPE}&safesearch=${SAFESEARCH}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\nconst form = document.querySelector('.form');\nconst elementsContainer = document.querySelector('.gallery');\n\nform.addEventListener('submit', handleSubmit);\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '41967229-af64f083e47c21f795887158a';\nconst ORIENTATION = 'horizontal';\nconst IMAGE_TYPE = 'photo';\nconst SAFESEARCH = 'true';\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const inputValue = event.currentTarget.elements.serching.value;\n\n  fetchPictures(inputValue)\n    .then(createMarkup)\n    .catch(onFetchError)\n    .finally(() => form.reset());\n}\n\nfunction createMarkup({ hits }) {\n  if (hits.length === 0) {\n    onFetchError();\n  } else {\n    const markup = hits.map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        ` <li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n  <img class=\"gallery-image\"\n  src=\"${webformatURL}\"\n  alt=\"${tags}\" />\n\n  \n\n \n</li>`\n    );\n    //!!!! Oter data form {hits}  !!!!\n    // </a>\n    //   <container class=\"container details-container\">\n    //    <div class=\"details\">\n    //   <p class=\"details-title\">likes</p>\n    //   <p class=\"details-text\">${likes}</p>\n    // </div>\n    // <div class=\"details\">\n    //   <p class=\"details-title\">views</p>\n    //   <p class=\"details-text\">${views}</p>\n    // </div>\n    // <div class=\"details\">\n    //   <p class=\"details-title\">comments</p>\n    //   <p class=\"details-text\">${comments}</p>\n    // </div>\n    // <div class=\"details\">\n    //   <p class=\"details-title\">downloads</p>\n    //   <p class=\"details-text\">${downloads}</p>\n    // </div></container>\n\n    elementsContainer.innerHTML = markup.join('');\n    form.reset();\n  }\n\n  const gallery = new SimpleLightbox('.gallery-item a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n}\n\nfunction onFetchError(error) {\n  iziToast.error({\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n"],"names":["fetchPictures","searchingItem","BASE_URL","API_KEY","ORIENTATION","IMAGE_TYPE","SAFESEARCH","resp","form","elementsContainer","handleSubmit","event","inputValue","createMarkup","onFetchError","hits","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","error","iziToast"],"mappings":"6vBAUA,SAASA,EAAcC,EAAe,CACpC,OAAO,MACL,GAAGC,SAAgBC,OAAaF,iBAA6BG,gBAA0BC,gBAAyBC,GACpH,EAAI,KAAKC,GAAQ,CACb,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAGjC,OAAOA,EAAK,MAChB,CAAG,CACH,CAEA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAoB,SAAS,cAAc,UAAU,EAE3DD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,MAAMR,EAAW,2BACXC,EAAU,qCACVC,EAAc,aACdC,EAAa,QACbC,EAAa,OAEnB,SAASI,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,SAAS,MAEzDX,EAAcY,CAAU,EACrB,KAAKC,CAAY,EACjB,MAAMC,CAAY,EAClB,QAAQ,IAAMN,EAAK,MAAK,CAAE,CAC/B,CAEA,SAASK,EAAa,CAAE,KAAAE,GAAQ,CAC9B,GAAIA,EAAK,SAAW,EAClBD,QACK,CACL,MAAME,EAASD,EAAK,IAClB,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,kCAC0BL;AAAA;AAAA,SAEzBD;AAAA,SACAE;AAAA;AAAA;AAAA;AAAA;AAAA,MAMT,EAqBIV,EAAkB,UAAYO,EAAO,KAAK,EAAE,EAC5CR,EAAK,MAAK,CACX,CAEe,IAAIgB,EAAe,kBAAmB,CACpD,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CAEA,SAASV,EAAaW,EAAO,CAC3BC,EAAS,MAAM,CACb,QACE,0EACN,CAAG,CACH"}